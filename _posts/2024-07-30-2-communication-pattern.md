---
title: \[Cloud Native\] 클라우드 네이티브 애플리케이션의 통신패턴
layout: single
author_profile: true
comments: true
share: true
related: false
date: '2024-07-30'
tags:
    - Cloud Native Application
category: Cloud Native Application
timezone: Asia/Seoul
---

# 통신패턴이란?
클라우드 네이티브 애플리케이션에서 통신 패턴은 서비스 간의 데이터 교환을 관리하고 최적화하는 데 중요하다.
이번 포스팅에서는 서비스 간 통신을 위한 다양한 패턴을 소개하고, 동기 및 비동기 메시징 패턴을 포함한 여러 기술들을 설명한다.
각 패턴의 장단점과 사용 사례를 이해함으로써, 애플리케이션의 요구사항에 맞는 적절한 통신 방식을 선택할 수 있다.

# 주요 통신패턴
## 1. 동기 메시징 패턴(Synchronous Messaging Pattern)
동기 메시징 패턴은 요청과 응답이 일치하는 방식으로, 클라이언트가 요청을 보내면 서버가 응답을 완료할 때까지 기다리는 방식이다. 이 패턴은 다음과 같은 기술로 구현될 수 있다.
* **HTTP/REST**
  * HTTP를 통한 요청과 응답방식으로 RESTful API를 사용한다
  * 장점: 간단하고 직관적이며, 널리 사용되는 표준
  * 단점: 높은 오버헤드와 낮은 성능을 가질 수 있다.
  * 사용 예시: 웹 애플리케이션의 CRUD 연산
* **gRPC**
  * 구글의 RPC 시스템으로, HTTP/2와 Protocol Buffers를 사용한다.
  * 장점: 높은 성능과 효율적인 데이터 전송을 제공하며, 다양한 언어 지원을 통해 상호 운용성을 높인다.
  * 단점: 초기 설정과 학습 비용이 있으며, REST보다 덜 친숙할 수 있다.
  * 사용 예시: 마이크로서비스 간의 고성능 데이터 전송
* **GraphQL**
  * 페이스북에서 개발한 쿼리 언어로, 클라이언트가 필요한 데이터를 명시적으로 요청할 수 있게 한다.
  * 장점: 클라이언트가 필요한 데이터만 요청할 수 있어 데이터 전송량을 줄일 수 있다. 강력한 타입시스템과 유연한 쿼리 기능을 제공한다.
  * 단점: 서버와 클라이언트 모두에서 쿼리와 스키마 정의가 필요하며, 복잡한 쿼리로 인해 성능 문제가 발생할 수 있다.
  * 사용 예시: 복잡한 데이터 요구 사항이 있는 모바일 애플리케이션
* **SOAP**
  * XML 기반의 프로토콜로, HTTP, SMTP 등 다양한 프로토콜을 통해 메시지를 전송한다.
  * 장점: 표준화된 프로토콜로 강력한 보안과 트랜잭션 지원을 제공하며, 다양한 웹 서비스 규격을 지원한다.
  * 단점: XML 포맷의 오버헤드가 크고, 구현이 복잘할 수 있다.
* **Thrift**
  * 아파치 소프트웨어 재단에서 개발한 프레임워크로, 다양한 프로그래밍 언어를 지원하며, 이진 직력화 포맷을 사용한다.
  * 장점: 높은 성능과 효율적인 데이터 전송을 제공하며, 다양한 언어와 플랫폼을 지원한다.
  * 단점: RESTful API보다 덜 일반적이며, 복잡한 설명이 필요할 수 있다.
  * 사용 예시: 다양한 언어와 플랫폼 간의 데이터 전송이 필요한 애플리케이션
* **소켓(Socket)**
  * 소켓 통신은 네트워크를 통해 직접 데이터를 전송하는 방식으로, 클라이언트와 서버 간의 실시간 연결을 제공한다. 소켓은 주로 TCP와 UDP 프로토콜을 사용하여 데이터 전송을 처리한다.
  * 장점: 낮은 레벨의 네트워크 통신을 통해 높은 성능과 제어를 제공한다. 실시간 통신이 필요하거나, 고속 데이터 전송이 요구되는 경우 유용하다.
  * 단점: 구현이 복잡할 수 있으며, 클라이언트와 서버 간의 연결 관리와 에러 처리가 필요하다. HTTP/REST보다 낮은 수준의 추상화로 인해 개발이 더 어려울 수 있다.
  * 사용 예시: 실시간 채팅 애플리케이션, 온라인 게임

## 2. 비동기 메시징 패턴(Asynchronous Messaging Pattern)
비동기 메시징 피턴은 요청을 보내고 응답을 기다리지 않고 다음 작업을 계속 수행하는 방식이다. 이 패턴은 다음과 같은 기술로 구현된다.
* **메시지 큐**
  * 메시지 큐를 사용하여 메시지를 저장하고 비동기적으로 처리하는 방식
  * 기술 예시: RabbitMQ, Apache Kafka
  * 장점: 비동기 처리를 통해 서버의 부하를 분산시키고, 시스템의 확장성을 높일 수 있다. 장애 발생 시 메시지를 큐에 저장하여 데이터 손실을 방지할 수 있다.
  * 단점: 시스템의 복잡성이 증가할 수 있으며, 메시지 처리 지연이 발생할 수 있다.
  * 사용 예시: 주문 처리 시스템, 로그 수집 시스템
* **이벤트 기반 아키텍처**
  * 서비스가 이벤트를 발생시키고, 다른 서비스가 이를 구독하여 처리하는 방식이다.
  * 장점: 시스템의 결합도를 줄이고, 독립적인 서비스 간의 통신을 가능하게 한다. 이벤트 발생 시 서비스가 즉시 반응할 수 있다.
  * 단점: 이벤트의 순서와 상태 관리를 복잡하게 만들 수 있으며, 이벤트 손실이나 중복 처리의 가능성을 고려해야 한다.
  * 사용 예시: 실시간 데이터 처리 시스템, 사용자 행동 분석

# 통신 패턴 선택의 기준
통신 패턴을 선택할 때는 다음과 같은 기준을 고려해야 한다.
* 성능 요구 사항: 응답 시간과 처리량
* 시스템의 복잡성: 관리 및 유지보수의 용이성
* 서비스의 독립성: 서비스 간 결합도를 줄이고, 독립적인 배포 가능성
* 비즈니스 요구 사항: 실시간 처리가 필요한 경우, 높은 신뢰성을 요구하는 경우 등
